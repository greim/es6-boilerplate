// --------------------------------------------------------
// Copyright (c) 2015 by Greg Reimer <gregreimer@gmail.com>
// MIT License. See license.txt for more info.

/*
 * We'll use a two-level scheme for server-side configuration.
 * Properties live in `$PROJECT_ROOT/props`. Default props are
 * kept in source control, custom props aren't. Custom props,
 * if defined, override default props. These properties should
 * be considered sensitive information and shouldn't be exposed
 * to the client unless it's done in a one-off, whitelisty kind
 * of way.
 */

'use strict'

import _ from 'lodash'
import deepFreeze from 'deep-freeze'
import def from '../../props/default'

var cust

try {
  cust = require('../../props/custom')
} catch(ex) {
  console.log('could not load custom props')
}

// here's the merge operation that accomplishes
// our custom => default override
const all = _.extend({}, def, cust)

deepFreeze(all)

export default all
